# 4주차



### 1. 운영체제 (Operating System)란?



#### 1-1. 정의

* 하드웨어와 응용프로그램 사이에서 인터페이스 역할을 하며, 시스템의 동작을 제어하는 시스템 소프트웨어
* 자원의 효율적 관리, 시스템 관리(추상화된 인터페이스 통해 프로그램 사용하도록 함) 역할 

#### 1-2. 기능

* 프로세스 관리 - 프로세스 스케줄링 및 동기화 / 프로세스 생성 제거, 시작 정지 / IPC 통신
* 기억장치 관리 - 메모리 관리 / 가상 메모리 / 파일 시스템
* 네트워킹 - TCP/IP 및 기타 프로토콜 지원 
* 사용자 관리 - 계정 관리, 접근 권한 관리
* 디바이스 드라이버 - 시스템의 자원, 하드웨어 관리



###### 참고 

* [[기술면접] 운영체제 면접 대비](https://alreadyusedadress.tistory.com/353)



---

### 2. 프로세스 vs 스레드



* 프로그램 : 작업을 위해 실행할 수 있는 파일

  

* **프로세스** : 현재 실행 중인 프로그램 

  * 디스크에 있는 실행 파일이 메모리에 적재되고, 프로그램이 CPU를 할당 받아 명령을 수행하고 있는 상태

  * 운영체제로부터 시스템을 할당(주소 공간, 파일, 메모리 등)받는 작업의 단위

  * 최소 1개의 스레드를 갖는다

  * 구성 

    * 스택 : 함수의 매개변수, 지역변수, 반환 주소 같은 임시 자료

    * 힙 : 프로세스 실행 중에 동적으로 할당되는 메모리

    * 데이터 : 전역 변수

    * 코드 : 코드 자체 

      

* **스레드** : 프로세스가 할당받은 자원을 이용하는 실행 흐름의 단위. 프로세스의 실행 단

  * 프로세스 주소 공간 내에서 각각 스택만 따로 할당 받으며, 별도의 PC 레지스터를 가짐
  * 프로세스의 주소 공간(코드, 데이터)이나 자원(힙 영역)을 같은 프로세스이 스레드끼리 공유하며, 힙 메모리에 서로 읽고 쓰기 작업을 수행함
  * 자원을 공유하기 때문에 다른 스레드에 영향을 받음 -> 동기화 문제 



###### 참고

* [[기술면접] 운영체제 면접 대비](https://alreadyusedadress.tistory.com/353)

* [기술면접을 위한 OS 개념정리 02 - 프로세스, 스레드](https://8iggy.tistory.com/178)





---

### 3. 프로세스 주소 공간



* 프로세스가 실행 중에 접근할 수 있도록 허용된 주소의 최대 범위 
* 코드, 데이터, 힙, 스택 4 요소들을 합쳐, 프로세스가 엑세스 할 수 있는 사용자 공간의 메모리 영역을 포함





###### 참고

* [[개발자 면접] 프로세스 주소공간과 PCB에 대해서](https://zeroco.tistory.com/73)

  

---

### 4. 멀티스레드 (Multi Thread)



* 하나의 프로세스에 여러 스레드로 자원을 공유하며 작업을 나누어 수행함
* 장점
  * 처리 비용 감소 : 코드, 데이터, 힙을 공유해 다른 스레드들간의 공유가 쉬움
  * 문맥 교환 비용 감소 : 캐시 메모리를 비울 필요가 없어 비교적 가벼운 TCB 만 교환하면 됨
  * 시스템 자원의 효율성 증가 : 단일 스레드와 비교시, 프로세시 생성할 때 자원을 할당하는 시스템 콜 감소

* 단점
  * 자원 공유로 인한 동기화 문제 발생 가능 (병목 현상, 데드락)
  * 과도한 동기화 과정으로 인한 성능 저하 가능성
  * 하나의 스레드 문제로 인해 전체 프로세스에 영향 줄 수 있음



###### 참고

* [기술면접을 위한 OS 개념정리 02 - 프로세스, 스레드](https://8iggy.tistory.com/178)



---

### 5. 인터럽트 (Interrupt)



* CPU가 프로그램을 실행 중일 때 예상치 못한 상황이 발생하여, 실행 중이던 프로세스를 잠시 멈추거나, 다른 급한 일을 처리해야하는 상황을 가리킴
* 인터럽트 발생 시, 실행 중이던 프로세스를 멈추고 인터럽트를 처리한 후, 다시 프로세스로 돌아와 이어서 실행함
* 내부 인터럽트 : 하드웨어 고장, 실행할 수 없는 명령어, 명령어 실행 오류, 사용 권한 위배 등 
* 외부 인터럽트 : 컴퓨터 종료, 타이머 인터럽트, 입출력 인터럽트 등



###### 참고

* [[OS] 2020.11.18. 오늘의 면접 Q&A](https://maivve.tistory.com/273)

---

### 6. 시스템 콜 (System Call)



* 사용자 모드에서 커널 모드로 접근해 필요한 기능을 수행할 수 있게 하는 시스템 함수 
* 커널은 시스템 콜로 받은 요청을 처리한 후, 다시 시스템 콜로 결과값을 반환함



---

### 7. PCB 와 Context Switching

* PCB(Process Control Block)

  * 프로세스 정보를 저장하는 구조 
  * 하나의 PCB 안에는 하나의 프로세스 정보가 담김
  * 프로세스 관리의 핵심 데이터로, 커널 모드에서만 접근 가능 
  * 연결 리스트 방식으로 관리됨 -> 삽입, 삭제가 용이 

* Context Switching

  * 수행 중인 프로세스를 변경할 때, CPU의 레지스터 정보가 변경되는 것 

  * CPU가 이전의 프로세스 상태를 PCB에 보관하고, 또 다른 프로세스 정보를 PCB로 읽어 레지스터에 적지하는 과정 

  * 보통 인터럽트가 발생하거나, 실행 중인 CPU 사용 허가 시간을 모두 소모하거나, 입출력을 위해 대기해야하는 경우에 발생함 

    

###### 참고

* [PCB, Context Switching](https://chogyujin-study.tistory.com/37)



---

### 8. IPC (Inter Process Communication)

* 프로세스들 간에 자원을 공유하는 방식
  * 1. 공유 메모리 (Shared Memory) <- 자원을 공유해서 사용하는 방식
       * 프로세스 간에 공유 가능한 메모리를 구성해 자원을 공유하는 방식
       * 장점 ; 커널 관여 없이 메모리를 직접 사용해 속도가 빠름
       * 단점 ; 동기화 기술 필요. 동시에 같은 메모리 접근 문제. 
    2. 메시지 전달 (Message Passing) <- 각자 독립적으로 처리하는 방식
       * 커널 메모리 영역에 메시지 전달을 위한 채널을 만들어서, 협력하는 프로세스들 사이에 메시지 형태로 정보를 보내고 받는 방식
       * 장점 ; 커널에서 데이터의 주고 받음을 컨트롤해서 동기화 기술 필요 x
       * 단점 ; 커널 경유해서 데이터 주고 받아 속도가 느림 



###### 참고

* [[운영체제] IPC](https://steady-coding.tistory.com/508)