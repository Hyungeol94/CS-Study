## CS 스터디 2주차

### TLS/SSL handshake
* SSL : Security Sockets Layer. 
* TLS : Transport Layer Security. SS3.0 이후부터 TLS라는 이름으로 변경됨.
* 웹사이트 열람시 HTTPS(HTTP over SSL/TLS)를 사용함으로써 '도청', '변조', '위장' 등의 위험성을 방지할 수 있음.
* 웹브라우저와 웹서버에서 HTTPS 통신을 시작하는 데에는 네 단계의 절차가 필요하다. 
* 네 단계의 절차는 SSL/TLS 핸드셰이크라고 불리며, TCP 커넥션이 확립된 후 수행된다.

**- 암호화 방식 결정**
* 여러 암호화 방식 중, 웹브라우저와 웹서버 양쪽이 사용할 수 있는 암호화 방식을 결정하기.
* HTTPS에서 사용되는 SSL 또는 TLS 보전과 위변조 방지에서 사용되는 메시지 다이제스트 방식 결정하기.

**- 통신 상대 인증**
* 웹브라우저가 통신하고 있는 웹서버가 올바른 상대인지를 SSL 서버 인증서를 사용해 확인하기.
* 올바른 웹서버임을 확인할 수 없는 경우는 웹브라우저상에 경고가 표시된다. 

**- 키 교환**
* 데이터 전송에 사용하는 '키'를 교환한다. 
* 키는 데이터를 전송할 때의 암호화 및, 암호화를 데이터를 복호화할 때 사용된다. 
* 비대칭키와 대칭키 혼합 방식을 사용함.

**- 암호화 방식 확인**
* 실제로 사용하는 암호화 방식의 최종 확인 작업을 수행함.
* 이 단계가 완료되면 웹브라우저와 웹서버 사이에서 암호화 통신이 시작됨.

* ![image](https://github.com/Sogang-CS-Study/CS-Study/assets/55428818/62e1ae5d-5a00-4a22-b175-f51bf9464c33)
* 그림과 작동 원리로 쉽게 이해하는 웹의 기초 p.71

### DNS
* DNS(Domain Name System): 도메인을 IP주소로 변환하는 구조
* DNS 서비스를 제공하는 서버는 트리 형태로 계층 구조화되어 있고, 분산 처리를 통해 막대한 도메인을 효율적으로 처리한다.
* URL에 도메인을 사용할 때는 반드시 DNS 서버에 IP 주소를 문의해야 하며, DNS 서버로부터 얻은 IP 주소를 기반으로 웹서버에 접속한다.
* DNS 서버가 수행하는 '도메인과 IP 주소를 연결하는' 것을 이름 결정Name Resolution이라 부른다.
* 도메인에서 IP 주소를 얻는 것을 순방향 조회(forward lookup)이라 하며, IP 주소에서 도메인을 얻는 것을 역방향 조회(reverse lookup)이라 한다.
* 도메인은 '.'(점)으로 구분된 계층 구조로 되어 있으며, 각 계층에 DNS 서버가 있음. 각 DNS 서버는 같은 계층의 도메인과 IP 주소를 연결하고, 아래 계층에 위치한 DNS 서버를 관리한다. 
* ![image](https://github.com/Sogang-CS-Study/CS-Study/assets/55428818/15996c13-0ac2-43ac-bf37-778a9caa6855)
* :그림과 작동 원리로 쉽게 이해하는 웹의 기초 p.45


### Rest, Restful
* REST(REpresentational State Transfer): 4개의 원칙으로 구성된 단순한 설계

**- REST 원칙**
* 통일된 인터페이스: 미리 정의/공유된 방법(웹이라면 HTTP)으로 정보를 주고받는다.
* 어드레싱 가능성: 모든 정보가 유일한 URL 구문으로 표시된다.
* 접속성: 주고받은 정보에는 링크를 포함시킬 수 있다.
* 상태 없음: 전달은 1회로 완결하며, 이전 전달 결과에 영향을 받지 않는다.

**- RESTful**
* 'REST 원칙'을 지켜 설계된 웹 시스템
* RESTful한 시스템끼리는 정보를 원활하게 연동할 수 있음.
* ![image](https://github.com/Sogang-CS-Study/CS-Study/assets/55428818/4d9817d9-8787-4d28-9629-13452477316d)
* :그림과 작동 원리로 쉽게 이해하는 웹의 기초 p.31


### CORS란
* 교차 출처 리소스 공유(Cross-Origin Resource Sharing, CORS)는 추가 HTTP 헤더를 사용하여, 한 출처에서 실행 중인 웹 애플리케이션이 다른 출처의 선택한 자원에 접근할 수 있는 권한을 부여하도록 브라우저에 알려주는 체제이다.

* SOP(동일 출처 규칙)이 보안을 위해 중요하긴 하나 다른 사이트에 있는 자원을 접근하는 일이 발생하므로 CORS를 사용한다.

* 동작 방식에는 preflight request/simple request 2가지가 존재한다.

* Preflight request는 서버에 예비 요청을 보내서 안전한지 판단한 후 본 요청을 보내는 방법
* simple request는 서버에게 바로 요청을 보내는 방법



### 쿠키, 세션 & JWT
**- 쿠키**
* HTTP는 스테이트레스 프로토콜이므로 웹브라우저와 웹서버 간의 일련의 통신에 대한 상태를 유지하고 관리하는 구조가 없다. 쿠키는 이러한 점을 보완하여 상태 관리를 가능하게 하는 데이터이다.

**- 쿠키 전달**
* 웹서버는 연결을 한 웹브라우저에 저장할 정보를 쿠키로서 보냄.
* 쿠키를 받은 웹브라우저는 그것을 저장해 두고, 다음에 웹서버에 연결할 때 저장해 두었던 쿠키를 송신.
* 웹서버는 수신한 쿠키를 통해 연결을 시도하는 웹브라우저의 상태를 식별할 수 있음.

**- 세션 헤더 사용**
* 쿠키 송신에는 메시지 헤더를 사용.
* 웹서버는 HTTP 응답에 'Set-Cookie' 헤더를 포함해 쿠키를 송신할 수 있음. 옵션으로 쿠키 유효 기간을 설정하거나, HTTPS만 사용해 쿠키를 송신하도록 설정할 수 있음.
* 웹브라우저는 HTTP 요청에 'Cookie' 헤더를 포함해 송신할 수 있음

**- 세션 쿠키**
* 유효 기간이 설정이 된 쿠키는 웹브라우저를 닫아도 삭제되지 않음. 
* 쿠키는 웹브라우저의 식별에 사용되므로, 도둑맞으면 위장의 가능성이 있음.
* 유효 기간이 설정되지 않은 쿠키는 이러한 리스크에 노출될 가능성이 적음.
* 유효 기간이 설정되지 않은 쿠키를 '세션 쿠키'라고 부름.
* ![image](https://github.com/Sogang-CS-Study/CS-Study/assets/55428818/21cc0215-1407-4264-9abc-eb3e49bb3e66)
* :그림과 작동 원리로 쉽게 이해하는 웹의 기초 p.74~75

**- 세션 & JWT**
**- 세션**
* 웹브라우저와 웹서버의 통신에서 일련의 관련성이 있는 처리의 흐름. EX) 쇼핑 사이트에서 '제품을 선택한다', '제품을 장바구니에 담는다' 등등
* 웹서버는 여러 웹브라우저와 통신하면서 세션ID를 사용해 세션을 관리함. 세션ID를 전달하는 방법에는 쿠키 사용, 링크에 URL 삽입, 폼 데이터에 삽입 등등이 있음.
* ![image](https://github.com/Sogang-CS-Study/CS-Study/assets/55428818/fe467150-51e9-464e-b41c-112b17d3fe70)
* :그림과 작동 원리로 쉽게 이해하는 웹의 기초 p.76~77

**- JWT**
* JWT는 클라이언트와 서버 사이 통신시 권한을 인가하기 위해 사용하는 토큰입니다. 헤더 - 페이로드 - 서명 세 부분으로 이루어져 있는 것이 특징입니다.
* 세션/쿠키 방식과 가장 큰 차이점은 세션/쿠키는 세션 저장소에 유저의 정보를 넣는 반면, JWT는 토큰 안에 유저의 정보들이 넣는다는 점입니다. 물론 클라이언트 입장에서는 HTTP 헤더에 세션ID나 토큰을 실어서 보내준다는 점에서는 동일하나, 서버 측에서는 인증을 위해 암호화를 하냐, 별도의 저장소를 이용하냐는 차이가 발생합니다.
* 참고 https://www.okta.com/identity-101/what-is-token-based-authentication/

* 헤더Header: JWT를 검증하는데 필요한 정보를 가진 JSON을 Base64 알고리즘 기반으로 인코딩한 문자열입니다. 검증을 하기위한 내용을 가지고 있습니다.
* 페이로드Payload: JWT에 저장 된 값입니다. (name,value)의 쌍으로 이루어져 있고, JWT에는 이 값들을 여러 개 할당 할 수 있습니다. Payload의 값은 암호화되지 않기에, 비밀번호와 같은 민감한 값을 넣으면 안됩니다.
* 서명Signature: JWT를 인코딩하거나 유효성 검증을 할 때 사용하는 암호화 된 코드입니다.
* 참고 https://github.com/SogangSpring/NewCSStudy/blob/main/03주차/김성일.md

### 공인(public) IP / 사설(private) IP
* IP주소는 용도나 장소에 따라 공인 IP 주소(글로벌 IP 주소)와 사설 IP 주소(프라이빗 IP 주소) 2가지로 구분됨.
* 용도: 인터넷에서 통신 / 집이나 회사 내부와 같은 LAN 안에서 통신
* 관리: ICANN 및 하부 조직 / 개인 또는 회사 안에서 자유롭게 IP 주소 사용
* 공인 IP 주소는 인터넷에서 고유해아 하므로 자유롭게 이용할 수 없다.
* 사설 IP 주소는 같은 LAN 안에서는 동일한 주소를 사용할 수 없으나, 다른 LAN에서는 동일한 주소를 사용할 수 있음. 또한 사설 IP만으로는 인터넷에 연결할 수 없으므로 라우터 등의 기기에서 공인 IP 주소로 변환해야 한다.
* ![image](https://github.com/Sogang-CS-Study/CS-Study/assets/55428818/b26a42dd-3451-41d8-b187-8dc6c4a53200)
* :그림과 작동 원리로 쉽게 이해하는 웹의 기초 p.40~41
